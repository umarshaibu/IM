@model AdminLoginViewModel
@{
    ViewData["Title"] = "Login";
    Layout = "_Layout";
}

<div class="auth-page">
    <!-- Left Side - Branding -->
    <div class="auth-aside">
        <div class="auth-aside-content">
            <div class="auth-aside-logo">
                <i class="bi bi-chat-square-dots-fill"></i>
            </div>
            <h1 class="auth-aside-title">Welcome to IM Admin</h1>
            <p class="auth-aside-subtitle">
                Manage your instant messaging platform with powerful tools and insights.
            </p>
            <div class="auth-aside-features">
                <div class="auth-feature">
                    <div class="auth-feature-icon">
                        <i class="bi bi-people"></i>
                    </div>
                    <span class="auth-feature-text">User Management & Nominal Roll</span>
                </div>
                <div class="auth-feature">
                    <div class="auth-feature-icon">
                        <i class="bi bi-broadcast"></i>
                    </div>
                    <span class="auth-feature-text">Channel & Broadcast Management</span>
                </div>
                <div class="auth-feature">
                    <div class="auth-feature-icon">
                        <i class="bi bi-bar-chart"></i>
                    </div>
                    <span class="auth-feature-text">Analytics & Activity Insights</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Side - Login Form -->
    <div class="auth-content">
        <div class="auth-form-wrapper">
            <!-- Logo for mobile -->
            <div class="auth-form-logo d-lg-none">
                <div class="auth-form-logo-icon">
                    <i class="bi bi-chat-square-dots-fill"></i>
                </div>
                <span class="auth-form-logo-text">IM Admin</span>
            </div>

            <!-- Header -->
            <div class="auth-form-header">
                <h1 class="auth-form-title">Sign In</h1>
                <p class="auth-form-subtitle">Enter your credentials to access the admin panel</p>
            </div>

            <!-- Error Messages -->
            @if (!string.IsNullOrEmpty(ViewData["Error"]?.ToString()))
            {
                <div class="alert alert-danger mb-4" role="alert">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    <span>@ViewData["Error"]</span>
                </div>
            }

            @if (!ViewContext.ModelState.IsValid)
            {
                <div class="alert alert-danger mb-4" role="alert">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    <div>
                        @foreach (var error in ViewContext.ModelState.Values.SelectMany(v => v.Errors))
                        {
                            <div>@error.ErrorMessage</div>
                        }
                    </div>
                </div>
            }

            <!-- Login Form -->
            <form asp-action="Login" method="post">
                <input type="hidden" name="returnUrl" value="@ViewData["ReturnUrl"]" />

                <!-- Username -->
                <div class="fv-row">
                    <label class="form-label required" for="username">Username</label>
                    <input type="text"
                           class="form-control form-control-lg form-control-solid"
                           id="username"
                           asp-for="Username"
                           placeholder="Enter your username"
                           required
                           autofocus />
                </div>

                <!-- Password -->
                <div class="fv-row">
                    <label class="form-label required" for="password">Password</label>
                    <input type="password"
                           class="form-control form-control-lg form-control-solid"
                           id="password"
                           asp-for="Password"
                           placeholder="Enter your password"
                           required />
                </div>

                <!-- Remember Me -->
                <div class="fv-row">
                    <label class="form-check">
                        <input class="form-check-input" type="checkbox" asp-for="RememberMe" />
                        <span class="form-check-label">Remember me</span>
                    </label>
                </div>

                <!-- Submit Button -->
                <div class="fv-row mt-5">
                    <button type="submit" class="btn btn-primary btn-lg w-100">
                        Sign In
                        <i class="bi bi-arrow-right ms-2"></i>
                    </button>
                </div>
            </form>

            <!-- Footer -->
            <div class="text-center mt-5">
                <span class="text-gray-500 fs-7">&copy; @DateTime.Now.Year IM Admin Panel. All rights reserved.</span>
            </div>
        </div>
    </div>
</div>
